!function(e){var t=[],n={},r="routie",o=e[r],i=function(e,t){this.name=t,this.path=e,this.keys=[],this.fns=[],this.params={},this.regex=s(this.path,this.keys,!1,!1)};i.prototype.addHandler=function(e){this.fns.push(e)},i.prototype.removeHandler=function(e){for(var t=0,n=this.fns.length;n>t;t++){var r=this.fns[t];if(e==r)return this.fns.splice(t,1),void 0}},i.prototype.run=function(e){for(var t=0,n=this.fns.length;n>t;t++)this.fns[t].apply(this,e)},i.prototype.match=function(e,t){var n=this.regex.exec(e);if(!n)return!1;for(var r=1,o=n.length;o>r;++r){var i=this.keys[r-1],s="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];i&&(this.params[i.name]=s),t.push(s)}return!0},i.prototype.toURL=function(e){var t=this.path;for(var n in e)t=t.replace("/:"+n,"/"+e[n]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=t.indexOf(":"))throw Error("missing parameters for url: "+t);return t};var s=function(e,t,n,r){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,o,i,s){return t.push({name:o,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(r||"")+(i||r&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),RegExp("^"+e+"$",n?"":"i"))},a=function(e,r){var o=e.split(" "),s=2==o.length?o[0]:null;e=2==o.length?o[1]:o[0],n[e]||(n[e]=new i(e,s),t.push(n[e])),n[e].addHandler(r)},u=function(e,t){if("function"==typeof t)a(e,t),u.reload();else if("object"==typeof e){for(var n in e)a(n,e[n]);u.reload()}else void 0===t&&u.navigate(e)};u.lookup=function(e,n){for(var r=0,o=t.length;o>r;r++){var i=t[r];if(i.name==e)return i.toURL(n)}},u.remove=function(e,t){var r=n[e];r&&r.removeHandler(t)},u.removeAll=function(){n={},t=[]},u.navigate=function(e,t){t=t||{};var n=t.silent||!1;n&&h(),setTimeout(function(){window.location.hash=e,n&&setTimeout(function(){f()},1)},1)},u.noConflict=function(){return e[r]=o,u};var c=function(){return window.location.hash.substring(1)},l=function(e,t){var n=[];return t.match(e,n)?(t.run(n),!0):!1},p=u.reload=function(){for(var e=c(),n=0,r=t.length;r>n;n++){var o=t[n];if(l(e,o))return}},f=function(){e.addEventListener?e.addEventListener("hashchange",p,!1):e.attachEvent("onhashchange",p)},h=function(){e.removeEventListener?e.removeEventListener("hashchange",p):e.detachEvent("onhashchange",p)};f(),e[r]=u}(window),function(){var e={};!function(){function t(e,n,r){var o=Object.create(e.prototype),i=/xyz/.test(function(){})?/\bparent\b/:/.*/;r=r||{};for(var s in r){var a=r[s],u=o[s];o[s]="function"==typeof u&&"function"==typeof a&&i.test(a)?function(e,t){return function(){var n=this.parent;this.parent=t;var r=e.apply(this,arguments);return this.parent=n,r}}(a,u):a}o.typename=n;var c=function(){o.init&&o.init.apply(this,arguments)};return c.prototype=o,c.prototype.constructor=c,c.extend=function(e,n){return"object"==typeof e&&(n=e,e="anonymous"),t(c,e,n)},c}e.object=t(Object,"Object",{})}(),function(){var t=Array.prototype,n=Object.prototype,r={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},o=function(e){return r[e]},i=e.lib={};i.withPrettyErrors=function(e,t,n){try{return n()}catch(r){if(r.Update||(r=new i.TemplateError(r)),r.Update(e),!t){var o=r;r=new Error(o.message),r.name=o.name}throw r}},i.TemplateError=function(e,t,n){var r=this;return e instanceof Error?(r=e,e=e.name+": "+e.message):Error.captureStackTrace&&Error.captureStackTrace(r),r.name="Template render error",r.message=e,r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r},i.TemplateError.prototype=Error.prototype,i.escape=function(e){return e.replace(/[&"'<>]/g,o)},i.isFunction=function(e){return"[object Function]"==n.toString.call(e)},i.isArray=Array.isArray||function(e){return"[object Array]"==n.toString.call(e)},i.isString=function(e){return"[object String]"==n.toString.call(e)},i.isObject=function(e){return e===Object(e)},i.groupBy=function(e,t){for(var n={},r=i.isFunction(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var s=e[o],a=r(s,o);(n[a]||(n[a]=[])).push(s)}return n},i.toArray=function(e){return Array.prototype.slice.call(e)},i.without=function(e){var t=[];if(!e)return t;for(var n=-1,r=e.length,o=i.toArray(arguments).slice(1);++n<r;)-1===o.indexOf(e[n])&&t.push(e[n]);return t},i.extend=function(e,t){for(var n in t)e[n]=t[n];return e},i.repeat=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},i.each=function(e,n,r){if(null!=e)if(t.each&&e.each==t.each)e.forEach(n,r);else if(e.length===+e.length)for(var o=0,i=e.length;i>o;o++)n.call(r,e[o],o,e)},i.map=function(e,n){var r=[];if(null==e)return r;if(t.map&&e.map===t.map)return e.map(n);for(var o=0;o<e.length;o++)r[r.length]=n(e[o],o);return e.length===+e.length&&(r.length=e.length),r}}(),function(){function t(e,t,n){return function(){var i,s=o(arguments),a=r(arguments);if(s>e.length){i=Array.prototype.slice.call(arguments,0,e.length);for(var u=Array.prototype.slice.call(arguments,i.length,s),c=0;c<u.length;c++)c<t.length&&(a[t[c]]=u[c]);i.push(a)}else if(s<e.length){i=Array.prototype.slice.call(arguments,0,s);for(var c=s;c<e.length;c++){var l=e[c];i.push(a[l]),delete a[l]}i.push(a)}else i=arguments;return n.apply(this,i)}}function n(e){return e.__keywords=!0,e}function r(e){var t=e.length;if(t){var n=e[t-1];if(n&&n.hasOwnProperty("__keywords"))return n}return{}}function o(e){var t=e.length;if(0===t)return 0;var n=e[t-1];return n&&n.hasOwnProperty("__keywords")?t-1:t}function i(e){if("string"!=typeof e)return e;this.toString=function(){return e},this.length=e.length;for(var t=["charAt","charCodeAt","concat","contains","endsWith","fromCharCode","indexOf","lastIndexOf","length","localeCompare","match","quote","replace","search","slice","split","startsWith","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"],n=0;n<t.length;n++)this[t[n]]=a(e[t[n]])}function s(e,t){return e instanceof i?new i(t):t.toString()}function a(e){return function(){var t=e.apply(this,arguments);return"string"==typeof t?new i(t):t}}function u(e,t){return e=void 0!==e&&null!==e?e:"",t&&"string"==typeof e&&(e=h.escape(e)),e}function c(e,t){return e=e||{},"function"==typeof e[t]?function(){return e[t].apply(e,arguments)}:e[t]}function l(e,t,n){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(this,n)}function p(e,t,n){var r=e.lookup(n);return void 0!==r&&null!==r?r:t.lookup(n)}function f(e,t,n){throw e.lineno?e:new h.TemplateError(e,t,n)}var h=e.lib,m=e.object,d=m.extend({init:function(e){this.variables={},this.parent=e},set:function(e,t){for(var n=e.split("."),r=this.variables,o=0;o<n.length-1;o++){var i=n[o];r[i]||(r[i]={}),r=r[i]}r[n[n.length-1]]=t},get:function(e){var t=this.variables[e];return void 0!==t&&null!==t?t:null},lookup:function(e){var t=this.parent,n=this.variables[e];return void 0!==n&&null!==n?n:t&&t.lookup(e)},push:function(){return new d(this)},pop:function(){return this.parent}});e.runtime={Frame:d,makeMacro:t,makeKeywordArgs:n,numArgs:o,suppressValue:u,memberLookup:c,contextOrFrameLookup:p,callWrap:l,handleError:f,isArray:h.isArray,SafeString:i,copySafeness:s}}(),function(){var t=e.lib,n=e.runtime,r={abs:function(e){return Math.abs(e)},batch:function(e,t,n){for(var r=[],o=[],i=0;i<e.length;i++)0===i%t&&o.length&&(r.push(o),o=[]),o.push(e[i]);if(o.length){if(n)for(var i=o.length;t>i;i++)o.push(n);r.push(o)}return r},capitalize:function(e){var t=e.toLowerCase();return n.copySafeness(e,t[0].toUpperCase()+t.slice(1))},center:function(e,r){if(r=r||80,e.length>=r)return e;var o=r-e.length,i=t.repeat(" ",o/2-o%2),s=t.repeat(" ",o/2);return n.copySafeness(e,i+e+s)},"default":function(e,t){return e?e:t},dictsort:function(e,n,r){if(!t.isObject(e))throw new t.TemplateError("dictsort filter: val must be an object");var o=[];for(var i in e)o.push([i,e[i]]);var s;if(void 0===r||"key"===r)s=0;else{if("value"!==r)throw new t.TemplateError("dictsort filter: You can only sort by either key or value");s=1}return o.sort(function(e,r){var o=e[s],i=r[s];return n||(t.isString(o)&&(o=o.toUpperCase()),t.isString(i)&&(i=i.toUpperCase())),o>i?1:o==i?0:-1}),o},escape:function(e){return"string"==typeof e||e instanceof n.SafeString?t.escape(e):e},safe:function(e){return new n.SafeString(e)},first:function(e){return e[0]},groupby:function(e,n){return t.groupBy(e,n)},indent:function(e,r,o){r=r||4;for(var i="",s=e.split("\n"),a=t.repeat(" ",r),u=0;u<s.length;u++)i+=0!=u||o?a+s[u]+"\n":s[u]+"\n";return n.copySafeness(e,i)},join:function(e,n,r){return n=n||"",r&&(e=t.map(e,function(e){return e[r]})),e.join(n)},last:function(e){return e[e.length-1]},length:function(e){return e.length},list:function(e){if(t.isString(e))return e.split("");if(t.isObject(e)){var n=[];if(Object.keys)n=Object.keys(e);else for(var r in e)n.push(r);return t.map(n,function(t){return{key:t,value:e[t]}})}throw new t.TemplateError("list filter: type not iterable")},lower:function(e){return e.toLowerCase()},random:function(e){var t=Math.floor(Math.random()*e.length);return t==e.length&&t--,e[t]},replace:function(e,t,r,o){var i=e,s=i,a=1;for(i=i.replace(t,r);s!=i&&!(a>=o);)s=i,i=i.replace(t,r),a++;return n.copySafeness(e,i)},reverse:function(e){var o;return o=t.isString(e)?r.list(e):t.map(e,function(e){return e}),o.reverse(),t.isString(e)?n.copySafeness(e,o.join("")):o},round:function(e,t,n){t=t||0;var r,o=Math.pow(10,t);return r="ceil"==n?Math.ceil:"floor"==n?Math.floor:Math.round,r(e*o)/o},slice:function(e,t,n){for(var r=Math.floor(e.length/t),o=e.length%t,i=0,s=[],a=0;t>a;a++){var u=i+a*r;o>a&&i++;var c=i+(a+1)*r,l=e.slice(u,c);n&&a>=o&&l.push(n),s.push(l)}return s},sort:function(e,n,r,o){return e=t.map(e,function(e){return e}),e.sort(function(e,i){var s,a;return o?(s=e[o],a=i[o]):(s=e,a=i),!r&&t.isString(s)&&t.isString(a)&&(s=s.toLowerCase(),a=a.toLowerCase()),a>s?n?1:-1:s>a?n?-1:1:0}),e},string:function(e){return n.copySafeness(e,e)},title:function(e){for(var t=e.split(" "),o=0;o<t.length;o++)t[o]=r.capitalize(t[o]);return n.copySafeness(e,t.join(" "))},trim:function(e){return n.copySafeness(e,e.replace(/^\s*|\s*$/g,""))},truncate:function(e,t,r,o){var i=e;if(t=t||255,e.length<=t)return e;if(r)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=void 0!==o&&null!==o?o:"...",n.copySafeness(i,e)},upper:function(e){return e.toUpperCase()},wordcount:function(e){return e.match(/\w+/g).length},"float":function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},"int":function(e,t){var n=parseInt(e,10);return isNaN(n)?t:n}};r.d=r["default"],r.e=r.escape,e.filters=r}(),function(){function t(e){var t=-1,n=null;return{reset:function(){t=-1,n=null},next:function(){return t++,t>=e.length&&(t=0),n=e[t]}}}function n(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}var r={range:function(e,t,n){t?n||(n=1):(t=e,e=0,n=1);for(var r=[],o=e;t>o;o+=n)r.push(o);return r},cycler:function(){return t(Array.prototype.slice.call(arguments))},joiner:function(e){return n(e)}};e.globals=r}(),function(){var t=e.lib,n=e.object,r=e.lexer,o=e.compiler,i=e.filters,s=e.loaders,a=e.runtime,u=e.globals,c=a.Frame,l=n.extend({init:function(e,n){n=n||{},this.dev=!!n.dev,this.autoesc=!!n.autoescape,this.loaders=e?t.isArray(e)?e:[e]:s.FileSystemLoader?[new s.FileSystemLoader]:[new s.HttpLoader("/views")],n.tags&&r.setTags(n.tags),this.filters=i,this.cache={},this.extensions={},this.extensionsList=[]},addExtension:function(e,t){t._name=e,this.extensions[e]=t,this.extensionsList.push(t)},getExtension:function(e){return this.extensions[e]},addFilter:function(e,t){this.filters[e]=t},getFilter:function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},getTemplate:function(e,t){e&&e.raw&&(e=e.raw);var n=null,r=this.cache[e];if("string"!=typeof e)throw new Error("template names must be a string: "+e);if(!r||!r.isUpToDate()){for(var o=0;o<this.loaders.length&&!(n=this.loaders[o].getSource(e));o++);if(!n)throw new Error("template not found: "+e);this.cache[e]=new f(n.src,this,n.path,n.upToDate,t)}return this.cache[e]},registerPrecompiled:function(e){for(var t in e)this.cache[t]=new f({type:"code",obj:e[t]},this,t,function(){return!0},!0)},express:function(n){var r=this;if(n.render)n.render=function(e,n,o){var i={};t.isFunction(n)&&(o=n,n={}),i=t.extend(i,this.locals),n._locals&&(i=t.extend(i,n._locals)),i=t.extend(i,n);var s=r.render(e,i);o(null,s)};else{var o=e.http,i=o.ServerResponse.prototype;i._render=function(e,n,o){var i=this.app,s={};this._locals&&(s=t.extend(s,this._locals)),n&&(s=t.extend(s,n),n.locals&&(s=t.extend(s,n.locals))),s=t.extend(s,i._locals);var a=r.render(e,s);o?o(null,a):this.send(a)}}},render:function(e,t){return this.getTemplate(e).render(t)}}),p=n.extend({init:function(e,t){this.ctx=e,this.blocks={},this.exported=[];for(var n in t)this.addBlock(n,t[n])},lookup:function(e){return e in u&&!(e in this.ctx)?u[e]:this.ctx[e]},setVariable:function(e,t){this.ctx[e]=t},getVariables:function(){return this.ctx},addBlock:function(e,t){this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t)},getBlock:function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},getSuper:function(e,t,n,r,o){var i=(this.blocks[t]||[]).indexOf(n),s=this.blocks[t][i+1],a=this;return function(){if(-1==i||!s)throw new Error('no super block available for "'+t+'"');return s(e,a,r,o)}},addExport:function(e){this.exported.push(e)},getExported:function(){for(var e={},t=0;t<this.exported.length;t++){var n=this.exported[t];e[n]=this.ctx[n]}return e}}),f=n.extend({init:function(e,n,r,o,i){if(this.env=n||new l,t.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj}else{if(!t.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=r,this.upToDate=o||function(){return!1},i){var s=this;t.withPrettyErrors(this.path,this.env.dev,function(){s._compile()})}else this.compiled=!1},render:function(e,n){var r=this,o=function(){r.compiled||r._compile();var t=new p(e||{},r.blocks);return r.rootRenderFunc(r.env,t,n||new c,a)};return t.withPrettyErrors(this.path,this.env.dev,o)},isUpToDate:function(){return this.upToDate()},getExported:function(){this.compiled||this._compile();var e=new p({},this.blocks);return this.rootRenderFunc(this.env,e,new c,a),e.getExported()},_compile:function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=o.compile(this.tmplStr,this.env.extensionsList,this.path),n=new Function(t);e=n()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},_getBlocks:function(e){var t={};for(var n in e)"b_"==n.slice(0,2)&&(t[n.slice(2)]=e[n]);return t}});e.environment={Environment:l,Template:f}}();var t,n=e.environment,r=e.compiler,o=e.parser,i=e.lexer,s=e.runtime,a=e.loaders;t={},t.Environment=n.Environment,t.Template=n.Template,a&&(a.FileSystemLoader?t.FileSystemLoader=a.FileSystemLoader:t.HttpLoader=a.HttpLoader),t.compiler=r,t.parser=o,t.lexer=i,t.runtime=s,t.require=function(t){return e[t]},"function"==typeof define&&define.amd?define(function(){return t}):window.nunjucks=t}(),function(){var e={};e["edit.nj.html"]=function(){function e(e,t,n,r){var o=null,i=null,s="";try{s+='<form method="POST" class="form-horizontal" action="',s+=r.suppressValue(r.contextOrFrameLookup(t,n,"url"),e.autoesc),s+='">\n    ',n=n.push();var a=r.contextOrFrameLookup(t,n,"form");if(a)for(var u=0;u<a.length;u++){var c=a[u];n.set("field",c),s+="\n        ",(r.memberLookup(c,"editable",e.autoesc)||r.memberLookup(r.contextOrFrameLookup(t,n,"user"),"is_admin",e.autoesc))&&(s+='\n            <div class="control-group">\n\n                <label class="control-label">',s+=r.suppressValue(r.memberLookup(c,"label",e.autoesc),e.autoesc),s+=':</label>\n                <div class="controls">\n\n                    ',"textarea"==r.memberLookup(c,"type",e.autoesc)?(s+='\n                        <textarea name="',s+=r.suppressValue(r.memberLookup(c,"name",e.autoesc),e.autoesc),s+='">',s+=r.suppressValue(r.memberLookup(c,"value",e.autoesc),e.autoesc),s+="</textarea>\n                    "):(s+='\n                        <input\n                            type="',s+=r.suppressValue(r.memberLookup(c,"type",e.autoesc),e.autoesc),s+='"\n                            name="',s+=r.suppressValue(r.memberLookup(c,"name",e.autoesc),e.autoesc),s+='"\n                            ',"checkbox"==r.memberLookup(c,"type",e.autoesc)?(s+="\n                                ",r.memberLookup(c,"value",e.autoesc)&&(s+="checked"),s+="\n                            "):(s+='\n                                value="',s+=r.suppressValue(r.memberLookup(c,"value",e.autoesc),e.autoesc),s+='"\n                            '),s+="\n                        >\n                    "),s+="\n\n                </div>\n            </div>\n        "),s+="\n    "}return n=n.pop(),s+='\n\n    <div class="control-group">\n        <div class="controls">\n            <button type="submit" class="btn btn-primary">Save</button>\n        </div>\n    </div>\n\n</form>'}catch(l){r.handleError(l,o,i)}}return{root:e}}(),e["entryList.nj.html"]=function(){function e(e,t,n,r){var o=null,i=null,s="";try{s+='<ul class="unstyled entries">\n    ',n=n.push();var a=r.contextOrFrameLookup(t,n,"entry_list");if(a)for(var u=0;u<a.length;u++){var c=a[u];n.set("entry",c),s+='\n        <li class="unstyled">\n            <blockquote>\n                <header>\n                    <div class="author">\n                        ',r.memberLookup(r.contextOrFrameLookup(t,n,"user"),"is_admin",e.autoesc)&&(s+='<a href="#user/',s+=r.suppressValue(r.memberLookup(r.memberLookup(c,"author",e.autoesc),"id",e.autoesc),e.autoesc),s+='">'),s+="\n                            ",s+=r.suppressValue(r.memberLookup(r.memberLookup(c,"author",e.autoesc),"name",e.autoesc),e.autoesc),s+="\n                        ",r.memberLookup(r.contextOrFrameLookup(t,n,"user"),"is_admin",e.autoesc)&&(s+="</a>"),s+='\n                    </div>\n                    <div class="title"><strong>',s+=r.suppressValue(r.memberLookup(c,"name",e.autoesc),e.autoesc),s+='</strong></div>\n                    <div class="time muted"><em>',s+=r.suppressValue(r.memberLookup(c,"created",e.autoesc),e.autoesc),s+="</em></div>\n                </header>\n\n                <section>\n                    ",s+=r.suppressValue(e.getFilter("replace").call(t,r.memberLookup(c,"text",e.autoesc),"\n","<br>"),e.autoesc),s+="\n                </section>\n\n                ",r.memberLookup(r.contextOrFrameLookup(t,n,"user"),"is_admin",e.autoesc)&&(s+="\n                    <footer>\n                        <ul>\n\n                            ",0==r.memberLookup(c,"is_active",e.autoesc)?(s+='\n                                <li>\n                                    <a href="#msg/',s+=r.suppressValue(r.memberLookup(c,"id",e.autoesc),e.autoesc),s+='/ok">approve</a>\n                                </li>\n                            '):(s+='\n                                <li>\n                                    <a href="#msg/',s+=r.suppressValue(r.memberLookup(c,"id",e.autoesc),e.autoesc),s+='/off">hide</a>\n                                </li>\n                            '),s+='\n                            <li>\n                                <a href="#msg/',s+=r.suppressValue(r.memberLookup(c,"id",e.autoesc),e.autoesc),s+='">edit</a>\n                            </li>\n\n                        </ul>\n                    </footer>\n                '),s+="\n\n            </blockquote>\n        </li>\n    "}return n=n.pop(),s+="\n</ul>\n"}catch(l){r.handleError(l,o,i)}}return{root:e}}(),e["login.nj.html"]=function(){function e(e,t,n,r){var o=null,i=null,s="";try{return s+='<form method="POST" action="./?action=user_login" class="form-horizontal">\n\n    <div class="control-group">\n        <label class="control-label">Username:</label>\n        <div class="controls">\n            <input type="text" name="user_name" value="',s+=r.suppressValue(r.contextOrFrameLookup(t,n,"user_name"),e.autoesc),s+='">\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label">Password:</label>\n        <div class="controls">\n            <input type="password" name="pass">\n        </div>\n    </div>\n\n    <div class="control-group">\n        <div class="controls">\n            <button type="submit" class="btn btn-primary">Sign in</button>\n        </div>\n    </div>\n\n</form>\n'}catch(a){r.handleError(a,o,i)}}return{root:e}}(),e["userCreate.nj.html"]=function(){function e(e,t,n,r){var o=null,i=null,s="";try{return s+='<form method="POST" action="./?action=user_new" class="form-horizontal">\n    <div class="control-group">\n        <label class="control-label">Username*:</label>\n        <div class="controls">\n            <input type="text" name="user_name" value="',s+=r.suppressValue(r.contextOrFrameLookup(t,n,"user_name"),e.autoesc),s+='">\n        </div>\n    </div>\n    <div class="control-group">\n        <label class="control-label">Password*:</label>\n        <div class="controls">\n            <input type="password" name="pass">\n        </div>\n    </div>\n    <div class="control-group">\n        <label class="control-label">Confirm password*:</label>\n        <div class="controls">\n            <input type="password" name="pass_confirm">\n        </div>\n    </div>\n    <div class="control-group">\n        <div class="controls">\n            <button type="submit" class="btn btn-primary">Register</button>\n        </div>\n    </div>\n</form>'}catch(a){r.handleError(a,o,i)}}return{root:e}}(),"function"==typeof define&&define.amd?define(["nunjucks"],function(t){return t.env=new t.Environment([],null),t.env.registerPrecompiled(e),t}):"object"==typeof nunjucks?(nunjucks.env=new nunjucks.Environment([],null),nunjucks.env.registerPrecompiled(e)):console.error("ERROR: You must load nunjucks before the precompiled templates")}(),function(){function e(e,t){if("string"==typeof e){var n=function(){var n=document.querySelector(e);return n&&(n.innerHTML=t),n},r=n();return r||setTimeout(n,0),r}return e&&(e.innerHTML=t),e}var t=function(e){r.show("Loading data..."),s(e.url,e.method||"GET",function(t){t.result&&t.redirect?document.location.href=t.redirect:(e.title&&(t.title=e.title),o(t,e.tplFile),r.hide())},e.data)},n=nunjucks.env,r={getCont:function(){return document.querySelector(".msg")},hide:function(){var t=this.getCont();setTimeout(function(){e(t,"")},1e3)},show:function(t,n){if(t){var r="";r=n?"alert-success":n===!1?"alert-error":"alert-info",e(this.getCont(),'<span class="alert '+r+'">'+t+"</span>")}else this.hide()}},o=function(o,s){if(o.title&&(document.title=o.title,e(".subheader",o.title)),r.show(o.msg,o.result),s){var a=n.render(s,o);e("main",a);var u=document.querySelector("main form");u&&(u.onsubmit=function(e){e.preventDefault(),t({url:this.action,method:this.method,tplFile:s,data:i(this)})})}},i=function(e){if(e&&"FORM"===e.nodeName){var t,n,r=[];for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"checkbox":case"radio":e.elements[t].checked&&r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}break;case"file":break;case"TEXTAREA":r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"SELECT":switch(e.elements[t].type){case"select-one":r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[n].value))}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":r.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}}return r.join("&")}},s=function(e,t,n,r){if(this.bindFunction=function(e,t){return function(){return e.apply(t,[t])}},this.stateChange=function(){4==this.request.readyState&&this.callbackFunction(JSON.parse(this.request.responseText))},this.getRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},this.postBody=r||"",this.callbackFunction=n,this.url=e,this.request=this.getRequest(),this.request){var o=this.request;o.onreadystatechange=this.bindFunction(this.stateChange,this),o.open(t,e,!1),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==t&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.send(this.postBody)}};routie({login:function(){t({url:"./?action=user_login",tplFile:"login.nj.html"})},logout:function(){t({url:"./?action=user_logout",method:"POST"})},reg:function(){t({url:"./?action=user_new",tplFile:"userCreate.nj.html"})},"user/:id":function(e){t({url:"./?action=user_edit&id="+parseInt(e),tplFile:"edit.nj.html"})},"new":function(){t({url:"./?action=entry_new",tplFile:"edit.nj.html",title:"New message"})},"msg/:id":function(e){t({url:"./?action=entry_edit&id="+parseInt(e),tplFile:"edit.nj.html"})},"msg/:id/ok":function(e){t({url:"./?action=entry_approve&id="+parseInt(e),method:"POST"})},"msg/:id/off":function(e){t({url:"./?action=entry_delete&id="+parseInt(e),method:"POST"})},"":function(){t({url:"./?action=entries",tplFile:"entryList.nj.html"})}})}();